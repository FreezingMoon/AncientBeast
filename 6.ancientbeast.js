(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{306:function(e,t,i){"use strict";i.r(t);var r=i(0),a=i(113),n=i(27),s=i(43),u=i(11),c=i(3);t.default=function(e){e.abilities[31]=[{triggerFunc:function(){return this.isUpgraded()?"onStartPhase onEndPhase":"onStartPhase"},require:function(){return this.testRequirements()},activate:function(){var t=this.creature.getHexMap(s.o);if(!(t.length<1)){var i=t[0].creature;if(i&&Object(n.b)(this.creature,i,n.a.enemy)){this.end();var r=new a.a(this.creature,this.damages,1,[],e);i.takeDamage(r),this.setUsed(!1)}}}},{trigger:"onQuery",_targetTeam:n.a.enemy,require:function(){return!!this.testRequirements()&&!!this.atLeastOneTarget(this.creature.getHexMap(s.i),{team:this._targetTeam})},query:function(){var t=this,i=this.creature;e.grid.queryCreature({fnOnConfirm:function(){t.animation.apply(t,arguments)},team:this._targetTeam,id:i.id,flipped:i.player.flipped,hexes:i.getHexMap(s.i)})},activate:function(t){this.end();var i=new a.a(this.creature,this.damages,1,[],e);if(t.takeDamage(i),this.isUpgraded()){var r=Math.min(8,t.energy);t.energy-=r,this.creature.recharge(r),e.log("%CreatureName"+this.creature.id+"% steals "+r+" energy from %CreatureName"+t.id+"%")}}},{trigger:"onQuery",require:function(){return this.isUpgraded()?(this.requirements={energy:30},this.costs={energy:30}):(this.requirements={energy:40},this.costs={energy:40}),this.testRequirements()},query:function(){var t=this,i=this.creature,r=s.q,a=s.d,c=[u.b(e.grid.getHexMap(i.x,i.y-2,0,!1,a),!0,!0,i.id).concat(u.b(e.grid.getHexMap(i.x,i.y,0,!1,r),!0,!0,i.id),u.b(e.grid.getHexMap(i.x,i.y,0,!1,a),!0,!0,i.id)),u.b(e.grid.getHexMap(i.x-1,i.y-2,0,!0,a),!0,!0,i.id).concat(u.b(e.grid.getHexMap(i.x-1,i.y,0,!0,r),!0,!0,i.id),u.b(e.grid.getHexMap(i.x-1,i.y,0,!0,a),!0,!0,i.id))];c[0].choiceId=0,c[1].choiceId=1,e.grid.queryChoice({fnOnCancel:function(){e.activeCreature.queryMove(),e.grid.clearHexViewAlterations()},fnOnConfirm:function(){t.animation.apply(t,arguments)},team:n.a.both,id:i.id,requireCreature:!1,choices:c})},activate:function(t){this.end();var i,r=this.creature,n=s.q,d=s.d;i=0===t.choiceId?[u.b(e.grid.getHexMap(r.x,r.y-2,0,!1,d),!0,!0,r.id),u.b(e.grid.getHexMap(r.x,r.y,0,!1,n),!0,!0,r.id),u.b(e.grid.getHexMap(r.x,r.y,0,!1,d),!0,!0,r.id)]:[u.b(e.grid.getHexMap(r.x-1,r.y-2,0,!0,d),!0,!0,r.id),u.b(e.grid.getHexMap(r.x-1,r.y,0,!0,n),!0,!0,r.id),u.b(e.grid.getHexMap(r.x-1,r.y,0,!0,d),!0,!0,r.id)];for(var g=0;g<i.length;g++)if(0!==i[g].length&&i[g][i[g].length-1].creature instanceof c.a){var h=i[g][i[g].length-1].creature,o=new a.a(this.creature,this.damages,1,[],e);h.takeDamage(o)}else this.token+=1;this.token>0&&e.log("%CreatureName"+this.creature.id+"% missed "+this.token+" rocket(s)"),e.UI.checkAbilities()}},{trigger:"onQuery",require:function(){return!!this.testRequirements()&&(0!==this.creature.abilities[2].token||(this.message="No rocket launched.",!1))},query:function(){var t=this,i=this.creature,r=e.grid.allhexes.slice(0);e.grid.queryCreature({fnOnConfirm:function(){t.animation.apply(t,arguments)},team:n.a.enemy,id:i.id,flipped:i.player.flipped,hexes:r})},activate:function(t){this.end();var i=t,n=this.creature.abilities[2],s=n.token;this.isUpgraded()||(s=Math.min(s,2)),n.token-=s;var u=r.extend({},n.damages);for(var c in u)({}).hasOwnProperty.call(u,c)&&(u[c]*=s);e.log("%CreatureName"+this.creature.id+"% redirects "+s+" rocket(s)");var d=new a.a(this.creature,u,1,[],e);i.takeDamage(d)}}]}}}]);